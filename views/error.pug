extends layout

block content
  .container.mt-5
    .row.justify-content-center
      .col-md-8.col-lg-6
        .card.shadow-lg.mt-5.text-center
          .card-body.p-5
            h1.card-title.text-danger.mb-4 Oops! Ha ocurrido un error.

            .card-text.mb-4
              p.fw-bold.mb-2
                | Código de Error: 
                span.text-danger #{status || '500'}
              p.mb-4
                | Mensaje: 
                span.text-danger #{message || 'Algo salió mal en el servidor.'}

            // CAMBIO CLAVE AQUÍ: Usar 'isDevelopment' en lugar de 'req.app.get("env")'
            if error.stack && isDevelopment 
              .bg-light.p-3.rounded.mb-4.text-start.small.font-monospace.overflow-auto(style='max-height: 200px;')
                strong Stack Trace:
                pre.mt-2 #{error.stack}

            .mt-4
              a(href="/").btn.btn-primary.btn-lg Volver al Inicio